(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1f67b581","chunk-332cb3f6"],{"0e78":function(t,e,s){},"25e4":function(t,e,s){"use strict";var r=s("0e78"),i=s.n(r);i.a},2679:function(t,e,s){"use strict";var r=s("b8f7"),i=s.n(r);i.a},"32df":function(t,e,s){},4060:function(t,e,s){"use strict";s.r(e);var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:["work-section","each-section","relative",{full:"full"===t.mode}],style:{background:t.sectionColor}},[s("switch-type",{attrs:{types:t.worktypes},on:{"switch-type":t.switchType}}),s("section-title",{attrs:{order:t.order,name:t.works.sectionName}},[s("div",{staticClass:"expand-btn relative circle-btn flex justify-center align-center sticky",on:{click:t.changeMode}},[s("i",{class:["fa",{"fa-angle-down":"full"!==t.mode},{"fa-angle-up":"full"===t.mode}]})])]),s("div",{ref:"works",staticClass:"section-content flex flex-nowrap"},t._l(t.filteredWorks.allWorks,function(e){return s("router-link",{key:e.id,attrs:{to:"/work?id="+e.id}},[(e.display,s("each-work",t._b({},"each-work",e,!1)))],1)}),1),"full"!==t.mode?s("button",{class:["next-btn","flex","absolute","justify-center","align-center","circle-btn",{deactive:t.scrollToEnd}],on:{click:t.scrollRight}},[s("i",{staticClass:"fa fa-angle-right"})]):t._e(),"full"!==t.mode?s("progress-bar",{attrs:{totalLength:t.allWorkLength,viewLength:t.viewLength,scrolledDistance:t.scrolledDistance}}):t._e()],1)},i=[],l=s("e2c3"),n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"each-work relative pointer",style:{"background-image":"url("+t.presentImg+")"},on:{click:t.viewEachWork}},[s("div",{staticClass:"work-cover absolute top left flex align-center justify-center"},[t.star?s("div",{staticClass:"banner absolute full"},[s("img",{attrs:{src:t.banner,alt:""}})]):t._e(),s("div",{staticClass:"work-info-wrap t-center"},[s("h3",{staticClass:"work-name"},[t._v(t._s(t.name))]),s("span",{staticClass:"current-type"},[s("i",{class:t.typeIconCode[t.type]})])]),s("div",{staticClass:"work-tag absolute flex flex-wrap"},t._l(t.tags.slice(0,4),function(e,r){return s("p",{key:r},[t._v(t._s(e))])}),0)])])},a=[],o=s("9611"),c={name:"eachWork",props:["img","name","descrip","link","tags","id","type","youtubeID","biliID","star"],data:function(){return{typeIconCode:{web:"fa fa-code",video:"fa fa-play-circle",design:"fa fa-paint-brush"},presentImg:null,banner:"./img/banner.png"}},methods:{viewEachWork(){let t=JSON.parse(JSON.stringify(this.$props));this.$emit("view-work-detail",t)},usePlaceholder(t){this.presentImg=t},imgLoaded(){this.presentImg=this.img}},mixins:[o["a"]],beforeMount(){this.run(void 0,this.img,"presentImg")}},h=c,d=s("2877"),u=Object(d["a"])(h,n,a,!1,null,"3d204eb8",null),f=u.exports,p=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"progressBar",staticClass:"progress-out"},[s("div",{staticClass:"progress-in",style:{width:t.viewLength/t.totalLength*100+"%",left:t.scrolledDistance/t.totalLength*100+"%"}})])},w=[],g={name:"progressBar",props:["totalLength","viewLength","scrolledDistance"],data:function(){return{progressBarLength:0}},computed:{calcScrollDistance(){}},mounted(){let t=this.$refs.progressBar.getBoundingClientRect().width;this.progressBarLength=t}},k=g,v=(s("7b63"),Object(d["a"])(k,p,w,!1,null,"42f56c53",null)),m=v.exports,y=s("f8cf"),b=s("d577"),C={name:"workSection",data:function(){return{initWorkType:"web",sectionColor:"#F5F5F5",order:"02",sectionName:"Portfolio",filteredWorks:[],works:[],allWorkLength:0,viewLength:20,scrolledDistance:0,scrollToEnd:!1,mode:"full"}},props:["worktypes","workData"],methods:{detectScrollDistance(){let t=this.getScrollDistance();this.scrolledDistance=this.initialDistanceBeforeScroll-t,this.detectScrollToEnd()},getScrollDistance(){return document.querySelectorAll(".each-work")[0].getBoundingClientRect().left},getInitialScrollDistance(){return document.querySelector(".section-content").getBoundingClientRect().left},getBarStyle(){let t=this.$refs.works.scrollWidth,e=this.$refs.works.getBoundingClientRect().width;this.viewLength=e,this.allWorkLength=t},scrollRight(){this.scrollHorizontal(this.$refs.works,this.$refs.works.scrollLeft+280,500),this.detectScrollToEnd()},detectScrollToEnd(){this.scrolledDistance+this.viewLength>=this.allWorkLength?this.scrollToEnd=!0:this.scrollToEnd=!1},viewWorkDetail(t){this.$emit("view-work-detail",t)},scrollHorizontal(t,e,s){var r,i=t.scrollLeft,l=e-i>0?1:-1,n=Math.abs(e-i),a=n/50;e!==i&&(s=s||1e3,a*=l,r=setInterval(function(){i+=a,n-=Math.abs(a),0>=n?(t.scrollLeft=e,clearInterval(r),r=null):t.scrollLeft=i},s/100))},switchType(t){if("all"===t.toLowerCase())this.filteredWorks=JSON.parse(JSON.stringify(this.works));else{let e=this.works.allWorks.filter(e=>{if(e.type.toLowerCase()===t.toLowerCase())return e});this.filteredWorks.allWorks=Object(b["a"])(e)}},shuffle(t){var e,s,r=t.length;while(r)s=Math.floor(Math.random()*r--),//!!!
e=t[r],t[r]=t[s],t[s]=e},loadData(){this.filteredWorks=JSON.parse(JSON.stringify(this.works)),this.switchType(this.initWorkType)},changeMode(){this.mode="full"===this.mode?"horizontal":"full"},recalculateBar(){this.getBarStyle(),this.initialDistanceBeforeScroll=this.getInitialScrollDistance()}},components:{sectionTitle:l["a"],eachWork:f,progressBar:m,switchType:y["a"]},mounted(){this.$props.workData&&(this.works=this.$props.workData),this.getBarStyle(),this.$refs.works.onscroll=this.detectScrollDistance,this.initialDistanceBeforeScroll=this.getInitialScrollDistance(),window.addEventListener("resize",this.recalculateBar),ScrollReveal().reveal(".work-section",{afterReveal:this.loadData}),window.innerWidth<500&&this.changeMode()},beforeDestroy(){window.removeEventListener("resize",this.recalculateBar),ScrollReveal().destroy()},updated(){this.getBarStyle(),this.detectScrollToEnd()},watch:{workData:function(){this.works=this.$props.workData,this.shuffle(this.works.allWorks),this.loadData()}}},D=C,S=(s("25e4"),Object(d["a"])(D,r,i,!1,null,null,null));e["default"]=S.exports},"7b63":function(t,e,s){"use strict";var r=s("32df"),i=s.n(r);i.a},b8f7:function(t,e,s){},d577:function(t,e,s){"use strict";s.d(e,"a",function(){return r});const r=t=>{let e=[],s=[];for(let r=0;r<t.length;r++)t[r].star?e.push(t[r]):s.push(t[r]);return e.concat(s)}},e2c3:function(t,e,s){"use strict";var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"section-title-wrap"},[s("div",{staticClass:"section-title relative"},[s("div",{staticClass:"title-bg absolute"}),s("p",{staticClass:"order"},[t._v(t._s(t.order)+".")]),s("p",{staticClass:"section-name"},[t._v(t._s(t.name))])]),t._t("default")],2)},i=[],l={name:"sectionTitle",props:["order","name"]},n=l,a=(s("2679"),s("2877")),o=Object(a["a"])(n,r,i,!1,null,"39ffc224",null);e["a"]=o.exports},f8cf:function(t,e,s){"use strict";var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"switch-type clearfix"},[s("ul",{staticClass:"type-wrap f-right"},t._l(t.types,function(e,r){return s("li",{key:r,class:{active:e===t.typeChosen},on:{click:function(s){return t.switchType(e)}}},[t._v(t._s(e)),r!==t.types.length-1?s("span",{staticClass:"type-divide"},[t._v(" /")]):t._e()])}),0)])},i=[],l={name:"switchType",data:function(){return{typeChosen:"web"}},methods:{switchType(t){this.typeChosen=t,this.$emit("switch-type",t)}},props:["types"]},n=l,a=s("2877"),o=Object(a["a"])(n,r,i,!1,null,"4d711999",null);e["a"]=o.exports}}]);
//# sourceMappingURL=chunk-1f67b581.055b08ec.js.map